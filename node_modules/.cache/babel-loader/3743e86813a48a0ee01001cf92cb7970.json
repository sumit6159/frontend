{"ast":null,"code":"var _jsxFileName = \"/home/sumit/finalproject/frontend/src/Components/Main.jsx\",\n    _s = $RefreshSig$();\n\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper'; // import { \n//   Heading, \n//   Thead,\n//   Table,\n//   VStack,\n//   Tbody,\n//   Tr,\n//   Image,\n//   Th,\n//   Td,\n//   Box,\n//   Spacer,\n//   TableContainer,\n//   HStack,\n//   Input,\n//   Select,\n//   useToast,\n//   Container,\n//   Spinner, } from '@chakra-ui/react'\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = () => {\n  _s();\n\n  const toast = useToast();\n  const [status, setStatus] = useState(false);\n  const [data, setData] = useState(() => JSON.parse(localStorage.getItem('flat')) || []);\n  useEffect(() => {\n    axios.get('https://sunday-server.herokuapp.com/flat/all').then(res => {\n      localStorage.setItem('flat', JSON.stringify(res.data.flat));\n      setData(res.data.flat);\n    });\n  }, []);\n\n  const handleChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    console.log(id, value);\n    axios.get(`https://sunday-server.herokuapp.com/flat/sort?${id}=${value}`).then(res => {\n      console.log(res.data);\n      localStorage.setItem('flat', JSON.stringify(res.data));\n      setData(res.data);\n      setStatus(!status);\n    });\n  };\n\n  const handleBlock = id => {\n    let value = id.target.value;\n    value = value.toUpperCase();\n\n    if (value.length === 0) {\n      axios.get('https://sunday-server.herokuapp.com/flat/all').then(res => {\n        localStorage.setItem('flat', JSON.stringify(res.data.flat));\n        setData(res.data.flat);\n      });\n    }\n\n    axios.get(`https://sunday-server.herokuapp.com/flat/block/${value}`).then(res => {\n      if (res.data.length < 1) {\n        console.log('hre');\n        setStatus(!status);\n        toast({\n          title: 'Not available.',\n          status: 'error',\n          duration: 3000,\n          isClosable: true\n        });\n      } else {\n        setData(res.data);\n        setStatus(!status);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {}, [status]);\n\n  if (data.length == 0) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      w: \"50%\",\n      mt: 50,\n      align: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        size: \"xl\",\n        thickness: \"5px\",\n        speed: \"0.65s\",\n        emptyColor: \"gray.200\",\n        color: \"blue.500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(VStack, {\n    mt: 15,\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      bgGradient: \"linear(to-l, #2894ca, #001eff)\",\n      bgClip: \"text\",\n      children: \"Apartments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HStack, {\n      w: \"38%\",\n      m: 5,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        p: \"2\",\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          placeholder: \"Select option\",\n          id: \"sortby\",\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"asc\",\n            children: \"Ascending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"dsc\",\n            children: \"Descending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Spacer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          p: \"1\",\n          placeholder: \"Search by Block\",\n          onChange: handleBlock\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        sx: {\n          minWidth: 650\n        },\n        \"aria-label\": \"simple table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Flat NO\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"block\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"view\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: data && data.map((item, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n            sx: {\n              '&:last-child td, &:last-child th': {\n                border: 0\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              component: \"th\",\n              scope: \"row\",\n              children: item.flatNo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(Image, {\n                src: item.imageUrl,\n                boxSize: \"100px\",\n                objectFit: \"cover\",\n                alt: \"Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: item.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: item.block\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n                to: `/flat/${item._id}`,\n                children: \"Look into\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 42\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Main, \"sATeiIEQ0tWJ6+P/XbtbAgpcYs8=\", true);\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/home/sumit/finalproject/frontend/src/Components/Main.jsx"],"names":["Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","React","useState","useEffect","axios","Link","Main","toast","useToast","status","setStatus","data","setData","JSON","parse","localStorage","getItem","get","then","res","setItem","stringify","flat","handleChange","e","id","value","target","console","log","handleBlock","toUpperCase","length","title","duration","isClosable","catch","err","minWidth","map","item","index","border","flatNo","imageUrl","type","block","_id"],"mappings":"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","sourcesContent":["import Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\n// import { \n//   Heading, \n//   Thead,\n//   Table,\n//   VStack,\n//   Tbody,\n//   Tr,\n//   Image,\n//   Th,\n//   Td,\n//   Box,\n//   Spacer,\n//   TableContainer,\n//   HStack,\n//   Input,\n//   Select,\n//   useToast,\n//   Container,\n//   Spinner, } from '@chakra-ui/react'\nimport React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom';\nconst Main = () => {\n  const toast = useToast()\n\n  const [status, setStatus] = useState(false);\n  const [data, setData] = useState(\n    ()=> JSON.parse(localStorage.getItem('flat')) || []\n  );\n  useEffect(()=>{\n    axios.get('https://sunday-server.herokuapp.com/flat/all').then((res)=>{\n      localStorage.setItem('flat', JSON.stringify(res.data.flat))\n      setData(res.data.flat)\n    })\n  }, [])\n  const handleChange = (e) =>{\n    const {id, value} = e.target\n    console.log(id, value)\n    axios.get(`https://sunday-server.herokuapp.com/flat/sort?${id}=${value}`).then((res)=>{\n    console.log(res.data)  \n    localStorage.setItem('flat', JSON.stringify(res.data))\n      setData(res.data)\n      setStatus(!status)\n    })\n  }\n  const handleBlock = (id)=>{\n    let value = id.target.value;\n    value = value.toUpperCase();\n    if(value.length === 0){\n      axios.get('https://sunday-server.herokuapp.com/flat/all').then((res)=>{\n      localStorage.setItem('flat', JSON.stringify(res.data.flat))\n      setData(res.data.flat)\n    })\n    }\n    axios.get(`https://sunday-server.herokuapp.com/flat/block/${value}`).then((res)=>{\n    if(res.data.length<1){\n        console.log('hre')\n        setStatus(!status)\n        toast({\n          title: 'Not available.',\n          status: 'error',\n          duration: 3000,\n          isClosable: true,\n        })\n      } else {\n              setData(res.data)\n              setStatus(!status)\n        }\n    }).catch((err)=>{console.log(err)})\n    \n  }\n  useEffect(()=>{},[status])\n  if(data.length == 0){\n    return <Container w=\"50%\" mt={50} align=\"center\">\n      <Spinner size='xl' thickness='5px'\n      speed='0.65s'\n      emptyColor='gray.200'\n      color='blue.500'/>\n    </Container>\n  }\n  return (\n    <VStack mt={15}>\n      <Heading bgGradient='linear(to-l, #2894ca, #001eff)' bgClip='text'>Apartments</Heading>\n      <HStack  w='38%' m={5}>\n        <Box p='2' >\n          <Select placeholder='Select option' id='sortby' onChange={handleChange}>\n            <option value='asc'>Ascending</option>\n            <option value='dsc'>Descending</option>\n          </Select>\n        </Box>\n        <Spacer />\n        <Box>\n          <Input p='1' placeholder='Search by Block' onChange={handleBlock} />\n        </Box>\n      </HStack>\n      <TableContainer component={Paper}>\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Flat NO</TableCell>\n            <TableCell align=\"center\">image</TableCell>\n            <TableCell align=\"center\">type</TableCell>\n            <TableCell align=\"center\">block</TableCell>\n            <TableCell align=\"center\">view</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n         {data && data.map((item, index) => (\n            <TableRow\n              key={index}\n              sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n            >\n              <TableCell component=\"th\" scope=\"row\">\n                {item.flatNo}\n              </TableCell>\n              <TableCell align=\"center\"><Image src={item.imageUrl} boxSize='100px' objectFit='cover' alt='Image' /></TableCell>\n              <TableCell align=\"center\">{item.type}</TableCell>\n              <TableCell align=\"center\">{item.block}</TableCell>\n              <TableCell align=\"center\"> <Link to={`/flat/${item._id}`} >\n                      Look into\n                    </Link></TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n      {/* <TableContainer>\n        <Table variant='simple' size=\"lg\">\n          <Thead>\n            <Tr>\n              <Th isNumeric>Flat NO</Th>\n              <Th>Image</Th>\n              <Th>Type</Th>\n              <Th isNumeric>Block</Th>\n              <Th>View</Th>\n            </Tr>\n          </Thead>\n          <Tbody>\n            {\n              data && data.map((item, index) =>(\n                <Tr key={index} size=\"md\">\n                  <Td>{item.flatNo}</Td>\n                  <Td>\n                      <Image src={item.imageUrl} boxSize='100px' objectFit='cover' alt='Image' />\n                  </Td>\n                  <Td>{item.type}</Td>\n                  <Td isNumeric>{item.block}</Td>\n                  <Td>\n                    <Link to={`/flat/${item._id}`} >\n                      Look into\n                    </Link>\n                  </Td>\n                </Tr>\n              ))\n            }\n            \n          </Tbody>\n          \n        </Table>\n      </TableContainer> */}\n    </VStack>\n  )\n}\n\nexport default Main"]},"metadata":{},"sourceType":"module"}